# =============================================================================
# Binance Portfolio Dashboard — Variables de Entorno
# Copia este archivo como .env y rellena los valores reales.
# NUNCA commitees .env al repositorio.
# =============================================================================

# --- PostgreSQL -----------------------------------------------------------
POSTGRES_DB=portfolio
POSTGRES_USER=portfolio
POSTGRES_PASSWORD=changeme_strong_password
POSTGRES_PORT=5432

# Construidas automáticamente por docker-compose a partir de las variables anteriores.
# Si las usas fuera de Docker, defínelas manualmente:
# DATABASE_URL=postgresql+asyncpg://portfolio:changeme@localhost:5432/portfolio
# DATABASE_SYNC_URL=postgresql+psycopg2://portfolio:changeme@localhost:5432/portfolio

# --- Redis ----------------------------------------------------------------
REDIS_PORT=6379
# REDIS_URL=redis://localhost:6379/0  # fuera de Docker

# --- Seguridad ------------------------------------------------------------
# SECRET_KEY: clave aleatoria para firmar JWT.
# Genera con: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=changeme_generate_with_secrets_token_hex_32

# ENCRYPTION_KEY: clave AES-256-GCM para cifrar las API Keys de Binance en BD.
# DEBE tener exactamente 32 bytes codificados en base64 URL-safe.
# Genera con: python -c "import secrets, base64; print(base64.urlsafe_b64encode(secrets.token_bytes(32)).decode())"
ENCRYPTION_KEY=changeme_generate_32_bytes_base64_urlsafe

# APP_PASSWORD: contraseña de acceso a la interfaz web (uso personal, un usuario).
APP_PASSWORD=changeme_strong_password

# Tiempo de vida del token JWT en minutos (default: 60)
ACCESS_TOKEN_EXPIRE_MINUTES=60

# Timeout de sesión web en minutos (default: 60)
SESSION_TIMEOUT_MINUTES=60

# --- Aplicación -----------------------------------------------------------
APP_ENV=production
LOG_LEVEL=INFO

# Puertos expuestos al host
API_PORT=8000
WEB_PORT=3000

# CORS: lista separada por comas de orígenes permitidos
CORS_ORIGINS=http://localhost:3000

# --- Sincronización -------------------------------------------------------
# Intervalo de sync automático en minutos (mínimo 5 según RF-02.1)
SYNC_INTERVAL_MINUTES=5

# URL base de la API de Binance (cambiar a testnet si se quiere probar sin riesgos)
BINANCE_API_BASE_URL=https://api.binance.com

# --- Backups --------------------------------------------------------------
# Directorio donde se guardarán los backups automáticos de la BD
BACKUP_DIR=/backups

# --- Frontend (Next.js) ---------------------------------------------------
# URL pública de la API (accesible desde el navegador del usuario)
NEXT_PUBLIC_API_URL=http://localhost:8000
